/* unitz 0.2.0 - A unit parser, converter, & combiner in JS by Philip Diffenderfer */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Unitz=t()}(this,function(){function e(e){return"string"==typeof e}function t(e){return null!==e&&"object"==typeof e}function i(e){return"number"==typeof e&&!isNaN(e)}function r(e){return e instanceof Array}function e(e){return"string"==typeof e}function t(e){return null!==e&&"object"==typeof e}function i(e){return"number"==typeof e&&!isNaN(e)}function r(e){return e instanceof Array}function s(e){return i(e)&&Math.abs(e-1)<M.epsilon}function n(e){return i(e)&&Math.abs(Math.floor(e)-e)<1e-8}function a(e,t){return e.substring(0,M.heuristicLength)===t.substring(0,M.heuristicLength)}function o(e,t,i){return e.length>t.length&&!s(i)?e:t}function u(e,t){return t?e+" "+t:e}function d(i){return e(i)?i.split(M.separator):r(i)?i:t(i)?[i]:[]}function l(r){return e(r)?m(r):t(r)?r:i(r)?v.fromNumber(r):!1}function m(e){var t=M.regex.exec(e),i=t[1],r=t[3],s=t[4],n=t[5].toLowerCase();if(!i&&!s&&!n)return!1;var a=1;return i&&(a=parseInt(i),r?a/=parseInt(r):s&&(a+=parseFloat("0."+s))),new v(a,n,C[n],e)}function c(e,t,i){var r=l(e);if(r.unitClass){for(var s=null,n=null,a=r.unitClass.groups,o=0;o<a.length;o++){var u=a[o],t=r.convert(u.unit,!0);t.valid&&(!s||t.distance<s.distance||1===t.denominator)&&(s=t,n=u)}s&&(r.value=s.actual,r.unit=n.unit,r.group=n,r.normal=n.addUnit(s?s.string:s.actual))}return r}function p(e,i,r){var s=l(e);if(!t(s))return!1;var n=s.value,a=s.unitClass;if(!a&&!i)return n;if(!(a&&i in a.converters))return!1;if(a.groupMap[i]===a.groupMap[s.unit])return n;n*=a.converters[s.unit];var o=a.bases[s.unit],u=a.bases[i];return o!==u&&(n*=a.mapping[o][u]),n/=a.converters[i]}function b(e,t,i,r){for(var s=d(e),n=d(t),m=s.concat(n),p=[],b=0;b<m.length;b++){var h=l(m[b]);h!==!1&&p.push(h)}for(var b=0;b<p.length-1;b++)for(var g=p[b],f=p.length-1;f>b;f--){var y=p[f],v=y.convert(g.unit);v!==!1&&g.group?(p.splice(f,1),g.value+=v,g.normal=g.group.addUnit(g.value)):g.unit&&y.unit?a(g.unit,y.unit)&&(p.splice(f,1),g.value+=y.value,g.unit=o(g.unit,y.unit,g.value),g.normal=u(g.value,g.unit)):(p.splice(f,1),g.value+=y.value,g.unit=g.unit||y.unit,g.normal=u(g.value,g.unit))}for(var q=[],b=0;b<p.length;b++){var G=c(p[b],i,r);G&&G.normal&&q.push(G.normal)}return q.join(M.separatorJoin)}function h(e,r,s,n){var a=l(e);if(!t(a)||!a.unitClass)return e;for(var o=a.unitClass.groups,u=a.conversions=[],d=0;d<o.length;d++){var m=o[d],c=a.convert(m.unit);if(i(c)){var p=new q(c,m.denominators,r);i(s)&&s>c||i(n)&&c>n||u.push(new G(c,p,m))}}return a}function g(e){w[e.className]=e,k.push(e);for(var t in e.converters)C[t]=e}function f(e){this.className=e,this.converters={},this.mapping={},this.bases={},this.groups=[],this.groupMap={}}function y(e,t,i,r,s,n,a){this.unit=e,this.baseUnit=t,this.baseScale=i,this.units=r,this.singular=s,this.plural=n,this.denominators=a}function v(e,t,i,r){this.value=e,this.unit=t,this.unitClass=i,this.group=i?i.groupMap[t]:null,this.normal=this.group?this.group.addUnit(e):r}function q(e,t,r){for(var s=Math.abs(Math.floor(e)-e),a=1,o=e,u=0;u<t.length&&s>M.epsilon;u++){var d=t[u],l=Math.round(e*d),m=Math.abs(l/d-e);if(i(r)&&d>r)break;m+M.epsilon<s&&(a=d,o=l,s=m)}this.numerator=o,this.denominator=a,this.actual=o/a,this.distance=s,this.whole=Math.floor(this.actual),this.remainder=Math.round((e-this.whole)*a),this.valid=1!==a||n(o),this.string="",1===a?this.string=o:0===this.whole?this.string=o+"/"+a:this.string=this.whole+" "+this.remainder+"/"+a}function G(e,t,i){this.decimal=e,this.fraction=t,this.shortUnit=i.unit,this.longUnit=s(e)?i.singular:i.plural,this.group=i,this.friendly=t.valid?t.string:e,this.shortNormal=u(this.friendly,this.shortUnit),this.longNormal=u(this.friendly,this.longUnit)}var k=[],w={},C={};f.prototype={addGroup:function(e,t,i,r,s,n){var a=i[0],o=a;t&&(e*=this.converters[t],o=this.bases[t]);for(var u=new y(a,o,e,i,s,n,r),d=0;d<i.length;d++){var l=i[d];this.converters[l]=e,this.bases[l]=o,this.groupMap[l]=u}this.groups.push(u)},addOneBaseConversion:function(e,t,i){e in this.mapping||(this.mapping[e]={}),this.mapping[e][t]=i},addBaseConversion:function(e,t,i){this.addOneBaseConversion(e,t,i),this.addOneBaseConversion(t,e,1/i)}},y.prototype={addUnit:function(e){return u(e,s(e)?this.singular:this.plural)}},v.prototype={convert:function(e,s,n,a,o){var u=p(this,e);if(u!==!1&&s){var d=this.group?this.group.denominators:o;r(d)&&(u=new q(u,d,a),t(u)&&n&&e&&(u.string=u.string+" "+e))}return n&&i(u)&&e&&(u=u+" "+e),u},best:function(e,t){return c(this,e,t)}},v.fromNumber=function(e){return new v(e,"",null,e,null)},g(function(){var e=new f("Area");return e.addGroup(1,null,["sqin","sq. in.","sq in","in2","in^2","square inch","square inches"],[2,4,8,16],"square inch","square inches"),e.addGroup(144,"sqin",["sqft","sq. ft.","sq ft","ft2","ft^2","square foot","square feet"],[2,4,8,16],"square foot","square feet"),e.addGroup(9,"sqft",["sqyd","sq. yd.","sq yd","yd2","yd^2","square yard","square yards"],[2,3,4,8,9,16],"square yard","square yards"),e.addGroup(4840,"sqyd",["acre","acres"],[2,3,4,8,10],"acre","acres"),e.addGroup(640,"acre",["sqmi","sq. mi.","sq mi","mi2","mi^2","square mile","square miles"],[2,3,4,8,10],"square mile","square miles"),e.addGroup(1,null,["sqmm","sq. mm.","sq mm","mm2","mm^2","square millimeter","square millimeters"],[2,4,8,16],"square millimeter","square millimeters"),e.addGroup(100,"sqmm",["sqcm","sq. cm.","sq cm","cm2","cm^2","square centimeter","square centimeters"],[2,4,8,16],"square centimeter","square centimeters"),e.addGroup(1e4,"sqcm",["sqm","sq. m.","sq m","m2","m^2","square meter","square meters"],[2,4,8,16],"square meter","square meters"),e.addGroup(1e6,"sqm",["sqkm","sq. km.","sq km","km2","km^2","square kilometer","square kilometers"],[2,3,4,8,9,16],"square kilometer","square kilometers"),e.addBaseConversion("sqin","sqmm",645.16),e}()),g(function(){var e=new f("Digital");return e.addGroup(1,null,["bit","bits"],[],"bit","bits"),e.addGroup(4,"bit",["nibble","nibbles"],[],"nibble","nibbles"),e.addGroup(8,"bit",["b","byte","bytes"],[2,8],"byte","bytes"),e.addGroup(1024,"b",["kb","kilobyte","kilobytes"],[2,4,8,16],"kilobyte","kilobytes"),e.addGroup(1024,"kb",["mb","megabyte","megabytes"],[2,4,8,16],"megabyte","megabytes"),e.addGroup(1024,"mb",["gb","gigabyte","gigabytes"],[2,4,8,16],"gigabyte","gigabytes"),e.addGroup(1024,"gb",["tb","terabyte","terabytes"],[2,4,8,16],"terabyte","terabytes"),e.addGroup(1024,"tb",["pb","petabyte","petabytes"],[2,4,8,16],"petabyte","petabytes"),e.addGroup(1024,"pb",["eb","exabyte","exabytes"],[2,4,8,16],"exabyte","exabytes"),e.addGroup(1024,"bit",["kbit","kilobit","kilobits"],[2,4,8,16],"kilobit","kilobits"),e.addGroup(1024,"kbit",["mbit","megabit","megabits"],[2,4,8,16],"megabit","megabits"),e.addGroup(1024,"mbit",["gbit","gigabit","gigabits"],[2,4,8,16],"gigabit","gigabits"),e.addGroup(1024,"gbit",["tbit","terabit","terabits"],[2,4,8,16],"terabit","terabits"),e.addGroup(1024,"tbit",["pbit","petabit","petabits"],[2,4,8,16],"petabit","petabits"),e.addGroup(1024,"pbit",["ebit","exabit","exabits"],[2,4,8,16],"exabit","exabits"),e}()),g(function(){var e=new f("Length");return e.addGroup(1,null,["in","inch","inches",'"'],[2,3,4,8,16,32],"inch","inches"),e.addGroup(12,"in",["ft","foot","feet","'"],[2,3,4,12],"foot","feet"),e.addGroup(3,"ft",["yd","yds","yard","yards"],[3],"yard","yards"),e.addGroup(5280,"ft",["mi","mile","miles"],[2,3,4,5,6,7,8,9,10],"mile","miles"),e.addGroup(3,"mi",["league","leagues"],[2,3,4,5,6,7,8,9,10],"league","leagues"),e.addGroup(1,null,["mm","millimeter","millimeters"],[10],"millimeter","millimeters"),e.addGroup(10,"mm",["cm","centimeter","centimeters"],[2,4,10],"centimeter","centimeters"),e.addGroup(10,"cm",["dc","decimeter","decimeters"],[10],"decimeter","decimeters"),e.addGroup(100,"cm",["m","meter","meters"],[2,3,4,5,10],"meter","meters"),e.addGroup(1e3,"m",["km","kilometer","kilometers"],[2,3,4,5,6,7,8,9,10],"kilometer","kilometers"),e.addBaseConversion("in","mm",25.4),e}()),g(function(){var e=new f("Rotation");return e.addGroup(1,null,["deg","degs","degree","degrees"],[],"degree","degrees"),e.addGroup(1,null,["rad","rads","radian","radians"],[],"radian","radians"),e.addBaseConversion("deg","rad",.0174533),e}()),g(function(){var e=new f("Time");return e.addGroup(1,null,["ns","nanosecond","nanoseconds","nano","nanos"],[10,100],"nanosecond","nanoseconds"),e.addGroup(1e3,"ns",["us","microsecond","microseconds","micros","micro"],[10,100,1e3],"microsecond","microseconds"),e.addGroup(1e3,"us",["ms","millisecond","milliseconds","millis"],[10,100,1e3],"millisecond","milliseconds"),e.addGroup(1e3,"ms",["s","second","seconds","sec","secs"],[2,10,100,1e3],"second","seconds"),e.addGroup(60,"s",["min","minute","minutes","mins"],[2,3,4,60],"minute","minutes"),e.addGroup(60,"min",["hr","hour","hours","hrs"],[2,3,4,60],"hour","hours"),e.addGroup(24,"hr",["day","days"],[2,3,4,6,24],"day","days"),e.addGroup(7,"day",["wk","week","weeks","wks"],[7],"week","weeks"),e.addGroup(365.2425,"day",["yr","year","years","yrs"],[2,3,4,6,12,52],"year","years"),e}()),g(function(){var e=new f("Volume");return e.addGroup(1,null,["tsp","ts","tsps","teaspoon","teaspoons"],[2,3,4],"teaspoon","teaspoons"),e.addGroup(3,"tsp",["tbsp","tbsps","tablespoon","tablespoons"],[2,3,4],"tablespoon","tablespoons"),e.addGroup(6,"tsp",["oz","ounce","ounces","fl-oz","fl oz","floz","fluid ounce","fl. oz.","oz. fl.","oz fl"],[2,3,6],"fluid ounce","fluid ounces"),e.addGroup(8,"oz",["c","cup","cups"],[2,3,4],"cup","cups"),e.addGroup(2,"c",["pt","pint","pints"],[2,4,8],"pint","pints"),e.addGroup(4,"c",["qt","quart","quarts"],[2,4,8],"quart","quarts"),e.addGroup(4,"qt",["gal","gallon","gallons"],[2,4,8,16],"gallon","gallons"),e.addGroup(1,null,["ml","millilitre","millilitres"],[2,10],"millilitre","millilitres"),e.addGroup(1e3,"ml",["l","litre","litres"],[2,10],"litre","litres"),e.addGroup(1,null,["mm3","mm^3","cubic mm","cubic millimeter","cubic millimeters"],[2,4,8],"cubic millimeter","cubic millimeters"),e.addGroup(1e3,"mm3",["cm3","cm^3","cubiccmm","cubic centimeter","cubic centimeters"],[2,4,8],"cubic centimeter","cubic centimeters"),e.addGroup(1e6,"cm3",["m3","m^3","cubic m","cubic meter","cubic meters"],[2,4,8],"cubic meter","cubic meters"),e.addGroup(1e9,"m3",["km3","km^3","cubic km","meter","meters"],[2,4,8],"meter","meters"),e.addGroup(1,null,["in3","in^3","cubic in","cubic inch","cubic inches"],[2,4,8],"cubic inch","cubic inches"),e.addGroup(1728,"in3",["ft3","ft^3","cubic ft","cubic foot","cubic feet"],[2,4,8],"cubic foot","cubic feet"),e.addGroup(27,"ft3",["yd3","yd^3","cubic yd","cubic yard","cubic yards"],[2,4,8],"cubic yard","cubic yards"),e.addBaseConversion("tsp","ml",4.92892),e.addBaseConversion("ml","mm3",1),e.addBaseConversion("tsp","in3",.300781),e}()),g(function(){var e=new f("Weight");return e.addGroup(1,null,["mg","milligram","milligrams"],[2,10],"milligram","milligrams"),e.addGroup(1e3,"mg",["g","gram","grams"],[2,10,100],"gram","grams"),e.addGroup(1e3,"g",["kg","kilogram","kilograms","kilo","kilos"],[2,10,100],"kilogram","kilograms"),e.addGroup(1,null,["oz","ounce","ounces"],[2,3,4,16],"ounce","ounces"),e.addGroup(16,"oz",["lb","lbs","pound","pounds"],[2,3,4,16],"pound","pounds"),e.addGroup(2e3,"lb",["ton","tons","tonnes"],[2,3,4,10],"ton","tons"),e.addBaseConversion("mg","oz",35274e-9),e}());var M={};return M.classes=k,M.classMap=w,M.units=C,M.regex=/^\s*(\d*)(\/(\d+)|\.(\d+)|)\s*(.*)\s*$/i,M.epsilon=.001,M.separator=",",M.separatorJoin=", ",M.heuristicLength=3,M.parse=m,M.parseInput=l,M.convert=p,M.best=c,M.splitInput=d,M.combine=b,M.isHeuristicMatch=a,M.getHeuristicUnit=o,M.conversions=h,M.isOne=s,M.isWhole=n,M.addClass=g,M.Class=f,M.Group=y,M.Parsed=v,M.Fraction=q,M});
//# sourceMappingURL=unitz.min.js.map
